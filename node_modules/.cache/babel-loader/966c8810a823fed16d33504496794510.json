{"ast":null,"code":"import React, { createContext, useContext, useState, useEffect, Fragment, forwardRef } from 'react';\nimport cs from 'classnames';\nimport useSWR from 'swr';\nimport Image from 'next/image';\nimport format from 'date-fns/format';\nimport formatDistanceStrict from 'date-fns/formatDistanceStrict';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded$4 = [\"tweetAstMap\", \"swrOptions\"];\nvar TwitterContext = createContext({\n  tweetAstMap: {},\n  swrOptions: {\n    fetcher: function fetcher(id) {\n      return fetch(\"https://twitter-search.vercel.app/api/get-tweet-ast/\" + id).then(function (r) {\n        return r.json();\n      });\n    }\n  }\n});\n\nfunction useTwitterContext() {\n  return useContext(TwitterContext);\n} // allows partials that override outer providers\n\n\nfunction TwitterContextProvider(_ref) {\n  var value = _ref.value,\n      children = _ref.children;\n  var currentContext = useContext(TwitterContext);\n\n  var tweetAstMap = value.tweetAstMap,\n      swrOptions = value.swrOptions,\n      rest = _objectWithoutPropertiesLoose(value, _excluded$4);\n\n  var mergedContext = _extends({}, currentContext, rest, {\n    tweetAstMap: _extends({}, currentContext.tweetAstMap, tweetAstMap),\n    swrOptions: _extends({}, currentContext.swrOptions, swrOptions)\n  });\n\n  return React.createElement(TwitterContext.Provider, {\n    value: mergedContext\n  }, children);\n}\n\nvar TwitterContextConsumer = TwitterContext.Consumer;\nvar _excluded$3 = [\"dataType\"];\n\nfunction getContainerClassName(dataType) {\n  if (!dataType) return;\n\n  var _dataType$split = dataType.split(' '),\n      type = _dataType$split[0],\n      count = _dataType$split[1];\n\n  switch (type) {\n    case 'image-container':\n      return \"image-container image-count-\" + count;\n\n    case 'gif-container':\n    case 'video-container':\n      return type;\n  }\n}\n\nvar handlers = {\n  div: function div(props, components, i) {\n    var data = props.data;\n    var type = props.dataType || data && data.type;\n\n    if (type === 'tweet') {\n      return React.createElement(components.Tweet, {\n        key: i,\n        data: data\n      }, props.children);\n    }\n\n    if (type === 'poll-container') {\n      return React.createElement(components.Poll, {\n        key: i,\n        data: data\n      });\n    }\n\n    var className = getContainerClassName(type);\n    return React.createElement(components.div, {\n      key: i,\n      className: className,\n      data: data\n    }, props.children);\n  },\n  img: function img(_ref, components, i) {\n    var dataType = _ref.dataType,\n        props = _objectWithoutPropertiesLoose(_ref, _excluded$3);\n\n    if (dataType === 'emoji-for-text') {\n      return React.createElement(components.Emoji, {\n        key: i,\n        src: props.src,\n        alt: props.alt\n      });\n    }\n\n    if (dataType === 'media-image') {\n      return React.createElement(components.img, _extends({\n        key: i\n      }, props));\n    }\n\n    return null;\n  },\n  a: function a(props, components, i) {\n    var type = props.dataType;\n\n    if (type === 'mention') {\n      return React.createElement(components.Mention, {\n        key: i,\n        href: props.href,\n        children: props.children\n      });\n    }\n\n    if (type === 'hashtag') {\n      return React.createElement(components.Hashtag, {\n        key: i,\n        href: props.href,\n        children: props.children\n      });\n    }\n\n    if (type === 'cashtag') {\n      return React.createElement(components.Cashtag, {\n        key: i,\n        href: props.href,\n        children: props.children\n      });\n    }\n\n    if (type === 'quote-tweet') {\n      return React.createElement(components.EmbeddedTweet, {\n        key: i,\n        href: props.href\n      });\n    }\n\n    return React.createElement(components.a, {\n      key: i,\n      href: props.href,\n      title: props.title\n    }, props.children);\n  },\n  blockquote: function blockquote(props, components, i) {\n    if (process.env.NEXT_PUBLIC_TWITTER_LOAD_WIDGETS === 'true') {\n      var _props$className;\n\n      var isEmbeddedTweet = (_props$className = props.className) == null ? void 0 : _props$className.includes('twitter-tweet');\n\n      if (isEmbeddedTweet) {\n        return React.createElement(components.EmbeddedTweet, _extends({}, props));\n      }\n    } else {\n      var _props$data;\n\n      var ast = (_props$data = props.data) == null ? void 0 : _props$data.ast;\n\n      if (ast) {\n        return React.createElement(components.EmbeddedTweet, {\n          key: i,\n          ast: ast[0]\n        });\n      }\n    }\n\n    return React.createElement(components.Blockquote, {\n      key: i,\n      children: props.children\n    });\n  }\n};\n\nvar defaultHandler = function defaultHandler(name) {\n  return function (props, components) {\n    var Comp = components[name];\n    return Comp ? React.createElement(Comp, _extends({}, props)) : React.createElement(name, props);\n  };\n};\n\nfunction handleNode(node, components, i) {\n  if (i === void 0) {\n    i = undefined;\n  }\n\n  if (!node) {\n    return null;\n  }\n\n  if (typeof node === 'string') {\n    return node;\n  }\n\n  var handler = handlers[node.tag] || defaultHandler(node.tag);\n\n  if (!handler) {\n    console.error('tweet error missing handler for:', node);\n    return null;\n  }\n\n  var nodes = node.nodes;\n\n  var props = _extends({}, node.props, {\n    key: i\n  }); // Always send className as a string\n\n\n  if (props.className && Array.isArray(props.className)) {\n    props.className = props.className.join(' ');\n  }\n\n  if (node.data) {\n    props.data = node.data;\n  }\n\n  if (nodes && Array.isArray(nodes)) {\n    props.children = nodes.map(function (node, i) {\n      return handleNode(node, components, i);\n    });\n  }\n\n  var element = handler(props, components, i, node);\n\n  if (!element) {\n    console.error('A handler returned null for:', node);\n  }\n\n  return element;\n}\n\nfunction Node(_ref) {\n  var components = _ref.components,\n      node = _ref.node;\n  return handleNode(node, components);\n}\n\nvar Div = function Div(p) {\n  return React.createElement(\"div\", {\n    className: p.className\n  }, p.children);\n};\n\nvar Permalink = function Permalink(_ref) {\n  var children = _ref.children,\n      id = _ref.id;\n  return React.createElement(\"span\", {\n    className: 'static-tweet-permalink'\n  }, React.createElement(\"span\", {\n    id: id\n  }), React.createElement(\"a\", {\n    href: \"#\" + id\n  }, children), React.createElement(\"span\", {\n    className: 'permalink'\n  }, \"#\"));\n};\n\nvar H1 = function H1(p) {\n  return React.createElement(\"h1\", {\n    className: 'static-tweet-h1'\n  }, React.createElement(Permalink, {\n    id: p.data.id\n  }, p.children));\n};\n\nvar H2 = function H2(p) {\n  return React.createElement(\"h2\", {\n    className: 'static-tweet-h2'\n  }, React.createElement(Permalink, {\n    id: p.data.id\n  }, p.children));\n};\n\nvar H3 = function H3(p) {\n  return React.createElement(\"h3\", {\n    className: 'static-tweet-h3'\n  }, React.createElement(Permalink, {\n    id: p.data.id\n  }, p.children));\n};\n\nvar H4 = function H4(p) {\n  return React.createElement(\"h4\", {\n    className: 'static-tweet-h4'\n  }, React.createElement(Permalink, {\n    id: p.data.id\n  }, p.children));\n};\n\nvar H5 = function H5(p) {\n  return React.createElement(\"h5\", {\n    className: 'static-tweet-h5'\n  }, React.createElement(Permalink, {\n    id: p.data.id\n  }, p.children));\n};\n\nvar H6 = function H6(p) {\n  return React.createElement(\"h6\", {\n    className: 'static-tweet-h6'\n  }, React.createElement(Permalink, {\n    id: p.data.id\n  }, p.children));\n};\n\nvar _excluded$2 = [\"className\"],\n    _excluded2 = [\"className\"],\n    _excluded3 = [\"className\"];\n\nvar P = function P(_ref) {\n  var p = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  return React.createElement(\"p\", _extends({\n    className: 'static-tweet-p'\n  }, p));\n};\n\nvar Blockquote = function Blockquote(_ref2) {\n  var _ref2$className = _ref2.className,\n      className = _ref2$className === void 0 ? undefined : _ref2$className,\n      p = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n  return React.createElement(\"blockquote\", _extends({\n    className: cs('static-tweet-blockquote', className)\n  }, p));\n};\n\nvar Hr = function Hr(_ref3) {\n  var _ref3$className = _ref3.className,\n      className = _ref3$className === void 0 ? undefined : _ref3$className,\n      p = _objectWithoutPropertiesLoose(_ref3, _excluded3);\n\n  return React.createElement(\"hr\", _extends({\n    className: cs('static-tweet-hr', className)\n  }, p));\n};\n\nvar Code = function Code(p) {\n  return React.createElement(\"code\", _extends({}, p));\n};\n\nvar Pre = function Pre(p) {\n  return React.createElement(\"pre\", _extends({}, p));\n};\n\nvar PROTOCOL = /^(https?:|)\\/\\//;\n\nvar beautifyHref = function beautifyHref(href) {\n  var text = href.replace(PROTOCOL, '');\n  var i = text.indexOf('/');\n  if (i === -1) return text; // Remove trailing slash\n\n  if (i === text.length - 1) {\n    return text.substring(0, i);\n  }\n\n  var hostname = text.substring(0, i);\n  var pathname = text.substring(i); // Hide large paths similarly to how twitter does it\n\n  return pathname.length > 20 ? \"\" + hostname + pathname.substring(0, 15) + \"...\" : text;\n};\n\nvar A = function A(p) {\n  return React.createElement(\"a\", {\n    href: p.href,\n    target: '_blank',\n    rel: 'noopener noreferrer',\n    title: p.title || p.href,\n    className: cs('static-tweet-anchor', p.className)\n  }, p.children[0] === p.href ? beautifyHref(p.href) : p.children);\n};\n\nvar Ul = function Ul(p) {\n  return React.createElement(\"ul\", _extends({}, p));\n};\n\nvar Ol = function Ol(p) {\n  return React.createElement(\"ol\", _extends({}, p));\n};\n\nvar Li = function Li(p) {\n  return React.createElement(\"li\", _extends({}, p));\n};\n\nvar Table = function Table(p) {\n  return React.createElement(\"div\", {\n    className: 'table-container'\n  }, React.createElement(\"table\", _extends({}, p)));\n};\n\nvar Th = function Th(p) {\n  return React.createElement(\"th\", _extends({}, p));\n};\n\nvar Td = function Td(p) {\n  return React.createElement(\"td\", _extends({}, p));\n};\n\nfunction TweetHeader(_ref) {\n  var tweet = _ref.tweet;\n  var authorUrl = \"https://twitter.com/\" + tweet.username;\n  var tweetUrl = \"https://twitter.com/\" + tweet.username + \"/status/\" + tweet.id;\n  var avatar = tweet.avatar.normal;\n  return React.createElement(\"div\", {\n    className: 'static-tweet-header'\n  }, React.createElement(\"a\", {\n    href: authorUrl,\n    className: 'static-tweet-header-avatar',\n    target: '_blank',\n    rel: 'noopener noreferrer'\n  }, React.createElement(Image, {\n    className: 'static-tweet-header-rounded',\n    src: avatar,\n    alt: tweet.name,\n    height: 36,\n    width: 36\n  })), React.createElement(\"a\", {\n    href: authorUrl,\n    className: 'static-tweet-header-author',\n    target: '_blank',\n    rel: 'noopener noreferrer'\n  }, React.createElement(\"span\", {\n    className: 'static-tweet-header-name',\n    title: tweet.name\n  }, tweet.name), React.createElement(\"span\", {\n    className: 'static-tweet-header-username',\n    title: \"@\" + tweet.username\n  }, \"@\", tweet.username)), React.createElement(\"a\", {\n    href: tweetUrl,\n    className: 'static-tweet-header-brand',\n    target: '_blank',\n    rel: 'noopener noreferrer'\n  }, React.createElement(\"div\", {\n    className: 'static-tweet-header-icon-twitter',\n    title: 'View on Twitter',\n    role: 'img'\n  })));\n}\n\nfunction formatNumber(n) {\n  return n.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n}\n\nfunction useMounted() {\n  var _useState = useState(false),\n      mounted = _useState[0],\n      setMounted = _useState[1];\n\n  useEffect(function () {\n    return setMounted(true);\n  }, []);\n  return mounted;\n}\n\nfunction TweetInfo(_ref) {\n  var tweet = _ref.tweet,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? undefined : _ref$className;\n  var mounted = useMounted();\n  var likeUrl = \"https://twitter.com/intent/like?tweet_id=\" + tweet.id;\n  var tweetUrl = \"https://twitter.com/\" + tweet.username + \"/status/\" + tweet.id;\n  var createdAt = typeof window !== 'undefined' && mounted ? new Date(tweet.createdAt) : null;\n  return React.createElement(\"div\", {\n    className: cs('static-tweet-info', className)\n  }, React.createElement(\"a\", {\n    className: 'static-tweet-like',\n    href: likeUrl,\n    title: 'Like',\n    target: '_blank',\n    rel: 'noopener noreferrer'\n  }, React.createElement(\"div\", {\n    className: 'static-tweet-heart'\n  }, React.createElement(\"div\", {\n    className: 'static-tweet-icon static-tweet-icon-heart',\n    role: 'img'\n  })), (tweet.heartCount || tweet.likes > 0) && React.createElement(\"span\", {\n    className: 'static-tweet-likes'\n  }, tweet.heartCount || formatNumber(tweet.likes))), createdAt && React.createElement(\"a\", {\n    className: 'static-tweet-time',\n    href: tweetUrl,\n    target: '_blank',\n    rel: 'noopener noreferrer'\n  }, React.createElement(\"time\", {\n    title: \"Time Posted: \" + createdAt.toUTCString(),\n    dateTime: createdAt.toISOString()\n  }, format(createdAt, 'h:mm a - MMM d, y'))));\n}\n\nvar TweetContext = React.createContext({});\n\nvar useTweet = function useTweet() {\n  return React.useContext(TweetContext);\n};\n\nfunction Tweet$1(_ref) {\n  var children = _ref.children,\n      data = _ref.data;\n  return React.createElement(\"div\", {\n    className: 'static-tweet-body'\n  }, React.createElement(\"blockquote\", {\n    className: 'static-tweet-body-blockquote'\n  }, React.createElement(TweetHeader, {\n    tweet: data\n  }), React.createElement(TweetContext.Provider, {\n    value: data\n  }, children), React.createElement(TweetInfo, {\n    tweet: data\n  })));\n}\n\nvar _excluded$1 = [\"width\", \"height\", \"src\"];\n\nvar Img = function Img(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      src = _ref.src,\n      p = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n  var tweet = useTweet();\n  var tweetUrl = \"https://twitter.com/\" + tweet.username + \"/status/\" + tweet.id;\n  return React.createElement(\"details\", {\n    className: 'static-tweet-details'\n  }, React.createElement(\"summary\", {\n    className: 'static-tweet-summary',\n    style: {\n      paddingBottom: (height / width * 100 || 0) + \"%\"\n    }\n  }, React.createElement(\"a\", {\n    href: tweetUrl,\n    className: 'avatar',\n    target: '_blank',\n    rel: 'noopener noreferrer'\n  }, React.createElement(Image, _extends({}, p, {\n    src: src + \"&name=small\",\n    layout: 'fill',\n    objectFit: 'cover',\n    quality: 80\n  })))));\n};\n\nvar _excluded = [\"className\"];\n\nvar TwitterLink = function TwitterLink(p) {\n  return React.createElement(\"a\", {\n    href: p.href,\n    target: '_blank',\n    rel: 'noopener noreferrer',\n    title: p.title || p.href,\n    className: 'static-tweet-twitter-link'\n  }, React.createElement(\"s\", null, p.type), p.children);\n};\n\nvar Mention = function Mention(p) {\n  return React.createElement(TwitterLink, {\n    href: p.href,\n    type: '@'\n  }, p.children[0].replace(/^@/, ''));\n};\n\nvar Hashtag = function Hashtag(p) {\n  return React.createElement(TwitterLink, {\n    href: p.href,\n    type: '#'\n  }, p.children[0].replace(/^\\#/, ''));\n};\n\nvar Cashtag = function Cashtag(p) {\n  return React.createElement(TwitterLink, {\n    href: p.href,\n    type: '$'\n  }, p.children[0].replace(/^\\$/, ''));\n};\n\nvar Emoji = function Emoji(_ref) {\n  var className = _ref.className,\n      p = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return React.createElement(\"img\", _extends({\n    className: cs('static-tweet-emoji', className)\n  }, p));\n}; // Note: Poll data is most likely cached, so ongoing polls will not be updated\n// until a revalidation happens\n\n\nvar Poll = function Poll(_ref2) {\n  var data = _ref2.data;\n  var votesCount = data.options.reduce(function (count, option) {\n    return count + option.votes;\n  }, 0);\n  var endsAt = new Date(data.endsAt);\n  var now = new Date();\n  return React.createElement(\"div\", {\n    className: 'static-tweet-poll'\n  }, React.createElement(\"div\", {\n    className: 'static-tweet-options'\n  }, data.options.map(function (option) {\n    var per = Math.round(option.votes / votesCount * 100) || 0;\n    var width = per || 1 + '%';\n    var widthLabel = per + '%';\n    return React.createElement(Fragment, {\n      key: option.position\n    }, React.createElement(\"span\", {\n      className: 'static-tweet-label'\n    }, option.label), React.createElement(\"span\", {\n      className: 'static-tweet-chart',\n      style: {\n        width: width\n      }\n    }), React.createElement(\"span\", null, widthLabel));\n  })), React.createElement(\"hr\", null), React.createElement(\"div\", {\n    className: 'static-tweet-footer'\n  }, React.createElement(\"span\", {\n    className: 'static-tweet-votes-count'\n  }, votesCount, \" votes\"), React.createElement(\"span\", null, now > endsAt ? 'Final results' : formatDistanceStrict(endsAt, now) + \" left\")));\n};\n\nfunction EmbeddedTweet(_ref) {\n  var ast = _ref.ast;\n  return React.createElement(Node, {\n    components: components,\n    node: ast\n  });\n}\n\nvar components = {\n  div: Div,\n  h1: H1,\n  h2: H2,\n  h3: H3,\n  h4: H4,\n  h5: H5,\n  h6: H6,\n  p: P,\n  blockquote: Blockquote,\n  hr: Hr,\n  code: Code,\n  pre: Pre,\n  a: A,\n  ul: Ul,\n  ol: Ol,\n  li: Li,\n  table: Table,\n  th: Th,\n  td: Td,\n  img: Img,\n  Mention: Mention,\n  Hashtag: Hashtag,\n  Cashtag: Cashtag,\n  Emoji: Emoji,\n  Poll: Poll,\n  Tweet: Tweet$1,\n  EmbeddedTweet: EmbeddedTweet\n};\nvar Tweet = forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      ast = _ref.ast,\n      caption = _ref.caption,\n      className = _ref.className;\n  var twitter = useTwitterContext();\n\n  var _useSWR = useSWR(id, function (id) {\n    return ast || twitter.tweetAstMap[id] || twitter.swrOptions.fetcher(id);\n  }, twitter.swrOptions),\n      tweetAst = _useSWR.data;\n\n  return React.createElement(\"article\", {\n    ref: ref,\n    className: cs('static-tweet', className)\n  }, tweetAst && React.createElement(React.Fragment, null, React.createElement(Node, {\n    components: components,\n    node: tweetAst[0]\n  }), caption != null ? React.createElement(\"p\", {\n    className: 'static-tweet-caption'\n  }, caption) : null));\n});\nexport { Tweet, TwitterContextConsumer, TwitterContextProvider, useTwitterContext };","map":{"version":3,"mappings":"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","names":["TwitterContext","createContext","tweetAstMap","swrOptions","fetcher","id","fetch","then","r","json","useTwitterContext","useContext","TwitterContextProvider","value","children","currentContext","rest","mergedContext","React","Provider","TwitterContextConsumer","Consumer","getContainerClassName","dataType","split","type","count","div","props","components","i","data","Tweet","key","Poll","className","img","Emoji","src","alt","a","Mention","href","Hashtag","Cashtag","EmbeddedTweet","title","blockquote","process","env","NEXT_PUBLIC_TWITTER_LOAD_WIDGETS","isEmbeddedTweet","_props$className","includes","ast","_props$data","Blockquote","defaultHandler","name","Comp","createElement","handleNode","node","undefined","handler","handlers","tag","console","error","nodes","Array","isArray","join","map","element","Node","Div","p","Permalink","H1","H2","H3","H4","H5","H6","P","cs","Hr","Code","Pre","PROTOCOL","beautifyHref","text","replace","indexOf","length","substring","hostname","pathname","A","target","rel","Ul","Ol","Li","Table","Th","Td","TweetHeader","tweet","authorUrl","username","tweetUrl","avatar","normal","Image","height","width","role","formatNumber","n","toString","useMounted","useState","mounted","setMounted","useEffect","TweetInfo","likeUrl","createdAt","window","Date","heartCount","likes","toUTCString","dateTime","toISOString","format","TweetContext","useTweet","Img","style","paddingBottom","layout","objectFit","quality","TwitterLink","votesCount","options","reduce","option","votes","endsAt","now","per","Math","round","widthLabel","Fragment","position","label","formatDistanceStrict","h1","h2","h3","h4","h5","h6","hr","code","pre","ul","ol","li","table","th","td","forwardRef","ref","caption","twitter","useSWR","tweetAst"],"sources":["/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/html/handlers.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/html/node.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/containers.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/headings.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/text.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/code.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/anchor.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/lists.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/table.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/tweet/tweet-header.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/format-number.ts","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/use-mounted.ts","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/tweet/tweet-info.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/tweet/tweet.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/media.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/twitter.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/embedded-tweet.tsx","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/twitter-layout/components/index.ts","/home/ubuntu/Desktop/Ordo-Frontend/ordo-frontend/node_modules/react-static-tweets/src/tweet.tsx"],"sourcesContent":["import React, { createContext, ReactNode, useContext } from 'react'\nimport { ConfigInterface } from 'swr'\n\n// TODO: make this more specific\nexport type TweetAst = Array<any>\n\nexport type TwitterContextValue = {\n  // static tweet ast info\n  tweetAstMap: TweetAstMap\n\n  // SWR config for dynamically fetching tweet ast info\n  swrOptions: ConfigInterface\n}\n\nexport type TweetAstMap = {\n  [tweetId: string]: TweetAst\n}\n\nexport interface TwitterContextProviderProps {\n  value: Partial<TwitterContextValue>\n  children?: ReactNode\n}\n\n// Saves the tweets returned as props to the page\nconst TwitterContext = createContext<TwitterContextValue>({\n  tweetAstMap: {},\n  swrOptions: {\n    fetcher: (id) =>\n      fetch(`https://twitter-search.vercel.app/api/get-tweet-ast/${id}`).then(\n        (r) => r.json()\n      )\n  }\n})\n\nexport function useTwitterContext() {\n  return useContext(TwitterContext)\n}\n\n// allows partials that override outer providers\nexport function TwitterContextProvider({\n  value,\n  children\n}: TwitterContextProviderProps) {\n  const currentContext = useContext(TwitterContext)\n  const { tweetAstMap, swrOptions, ...rest } = value\n  const mergedContext = {\n    ...currentContext,\n    ...rest,\n    tweetAstMap: {\n      ...currentContext.tweetAstMap,\n      ...tweetAstMap\n    },\n    swrOptions: {\n      ...currentContext.swrOptions,\n      ...swrOptions\n    }\n  }\n\n  return (\n    <TwitterContext.Provider value={mergedContext}>\n      {children}\n    </TwitterContext.Provider>\n  )\n}\n\nexport const TwitterContextConsumer = TwitterContext.Consumer\n","import React from 'react'\n\nfunction getContainerClassName(dataType) {\n  if (!dataType) return\n\n  const [type, count] = dataType.split(' ')\n\n  switch (type) {\n    case 'image-container':\n      return `image-container image-count-${count}`\n    case 'gif-container':\n    case 'video-container':\n      return type\n  }\n}\n\nexport default {\n  div(props, components, i) {\n    const { data } = props\n    const type = props.dataType || (data && data.type)\n\n    if (type === 'tweet') {\n      return (\n        <components.Tweet key={i} data={data}>\n          {props.children}\n        </components.Tweet>\n      )\n    }\n\n    if (type === 'poll-container') {\n      return <components.Poll key={i} data={data} />\n    }\n\n    const className = getContainerClassName(type)\n\n    return (\n      <components.div key={i} className={className} data={data}>\n        {props.children}\n      </components.div>\n    )\n  },\n\n  img({ dataType, ...props }, components, i) {\n    if (dataType === 'emoji-for-text') {\n      return <components.Emoji key={i} src={props.src} alt={props.alt} />\n    }\n\n    if (dataType === 'media-image') {\n      return <components.img key={i} {...props} />\n    }\n\n    return null\n  },\n\n  a(props, components, i) {\n    const type = props.dataType\n\n    if (type === 'mention') {\n      return (\n        <components.Mention\n          key={i}\n          href={props.href}\n          children={props.children}\n        />\n      )\n    }\n\n    if (type === 'hashtag') {\n      return (\n        <components.Hashtag\n          key={i}\n          href={props.href}\n          children={props.children}\n        />\n      )\n    }\n\n    if (type === 'cashtag') {\n      return (\n        <components.Cashtag\n          key={i}\n          href={props.href}\n          children={props.children}\n        />\n      )\n    }\n\n    if (type === 'quote-tweet') {\n      return <components.EmbeddedTweet key={i} href={props.href} />\n    }\n\n    return (\n      <components.a key={i} href={props.href} title={props.title}>\n        {props.children}\n      </components.a>\n    )\n  },\n\n  blockquote(props, components, i) {\n    if (process.env.NEXT_PUBLIC_TWITTER_LOAD_WIDGETS === 'true') {\n      const isEmbeddedTweet = props.className?.includes('twitter-tweet')\n\n      if (isEmbeddedTweet) {\n        return <components.EmbeddedTweet {...props} />\n      }\n    } else {\n      const ast = props.data?.ast\n\n      if (ast) {\n        return <components.EmbeddedTweet key={i} ast={ast[0]} />\n      }\n    }\n\n    return <components.Blockquote key={i} children={props.children} />\n  }\n}\n","import React from 'react'\nimport handlers from './handlers'\n\nconst defaultHandler = (name) => (props, components) => {\n  const Comp = components[name]\n  return Comp ? <Comp {...props} /> : React.createElement(name, props)\n}\n\nfunction handleNode(node, components, i = undefined) {\n  if (!node) {\n    return null\n  }\n\n  if (typeof node === 'string') {\n    return node\n  }\n\n  const handler = handlers[node.tag] || defaultHandler(node.tag)\n\n  if (!handler) {\n    console.error('tweet error missing handler for:', node)\n    return null\n  }\n\n  const { nodes } = node\n  const props = { ...node.props, key: i }\n\n  // Always send className as a string\n  if (props.className && Array.isArray(props.className)) {\n    props.className = props.className.join(' ')\n  }\n\n  if (node.data) {\n    props.data = node.data\n  }\n\n  if (nodes && Array.isArray(nodes)) {\n    props.children = nodes.map((node, i) => handleNode(node, components, i))\n  }\n\n  const element = handler(props, components, i, node)\n\n  if (!element) {\n    console.error('A handler returned null for:', node)\n  }\n\n  return element\n}\n\nexport default function Node({ components, node }) {\n  return handleNode(node, components)\n}\n","import React from 'react'\n\nexport const Div = (p) => <div className={p.className}>{p.children}</div>\n","import React from 'react'\n\nconst Permalink = ({ children, id }) => (\n  <span className='static-tweet-permalink'>\n    <span id={id}></span>\n    <a href={`#${id}`}>{children}</a>\n    <span className='permalink'>#</span>\n  </span>\n)\n\nexport const H1 = (p) => (\n  <h1 className='static-tweet-h1'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h1>\n)\n\nexport const H2 = (p) => (\n  <h2 className='static-tweet-h2'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h2>\n)\n\nexport const H3 = (p) => (\n  <h3 className='static-tweet-h3'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h3>\n)\n\nexport const H4 = (p) => (\n  <h4 className='static-tweet-h4'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h4>\n)\n\nexport const H5 = (p) => (\n  <h5 className='static-tweet-h5'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h5>\n)\n\nexport const H6 = (p) => (\n  <h6 className='static-tweet-h6'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h6>\n)\n","import React from 'react'\nimport cs from 'classnames'\n\nexport const P = ({ className = undefined, ...p }) => (\n  <p className='static-tweet-p' {...p} />\n)\n\nexport const Blockquote = ({ className = undefined, ...p }) => (\n  <blockquote className={cs('static-tweet-blockquote', className)} {...p} />\n)\n\nexport const Hr = ({ className = undefined, ...p }) => (\n  <hr className={cs('static-tweet-hr', className)} {...p} />\n)\n","import React from 'react'\n\nexport const Code = (p) => <code {...p} />\n\nexport const Pre = (p) => <pre {...p} />\n","import React from 'react'\nimport cs from 'classnames'\n\nconst PROTOCOL = /^(https?:|)\\/\\//\n\nconst beautifyHref = (href) => {\n  const text = href.replace(PROTOCOL, '')\n  const i = text.indexOf('/')\n\n  if (i === -1) return text\n  // Remove trailing slash\n  if (i === text.length - 1) {\n    return text.substring(0, i)\n  }\n\n  const hostname = text.substring(0, i)\n  const pathname = text.substring(i)\n\n  // Hide large paths similarly to how twitter does it\n  return pathname.length > 20\n    ? `${hostname}${pathname.substring(0, 15)}...`\n    : text\n}\n\nexport const A = (p) => (\n  <a\n    href={p.href}\n    target='_blank'\n    rel='noopener noreferrer'\n    title={p.title || p.href}\n    className={cs('static-tweet-anchor', p.className)}\n  >\n    {p.children[0] === p.href ? beautifyHref(p.href) : p.children}\n  </a>\n)\n","import React from 'react'\n\nexport const Ul = (p) => <ul {...p} />\n\nexport const Ol = (p) => <ol {...p} />\n\nexport const Li = (p) => <li {...p} />\n","import React from 'react'\n\nexport const Table = (p) => (\n  <div className='table-container'>\n    <table {...p} />\n  </div>\n)\n\nexport const Th = (p) => <th {...p} />\n\nexport const Td = (p) => <td {...p} />\n","import React from 'react'\nimport Image from 'next/image'\n\nexport default function TweetHeader({ tweet }) {\n  const authorUrl = `https://twitter.com/${tweet.username}`\n  const tweetUrl = `https://twitter.com/${tweet.username}/status/${tweet.id}`\n  const avatar = tweet.avatar.normal\n\n  return (\n    <div className='static-tweet-header'>\n      <a\n        href={authorUrl}\n        className='static-tweet-header-avatar'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        <Image\n          className='static-tweet-header-rounded'\n          src={avatar}\n          alt={tweet.name}\n          height={36}\n          width={36}\n        />\n      </a>\n\n      <a\n        href={authorUrl}\n        className='static-tweet-header-author'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        <span className='static-tweet-header-name' title={tweet.name}>\n          {tweet.name}\n        </span>\n\n        <span\n          className='static-tweet-header-username'\n          title={`@${tweet.username}`}\n        >\n          @{tweet.username}\n        </span>\n      </a>\n\n      <a\n        href={tweetUrl}\n        className='static-tweet-header-brand'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        <div\n          className='static-tweet-header-icon-twitter'\n          title='View on Twitter'\n          role='img'\n        />\n      </a>\n    </div>\n  )\n}\n","export default function formatNumber(n) {\n  return n.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\n}\n","import { useState, useEffect } from 'react'\n\nexport default function useMounted() {\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => setMounted(true), [])\n\n  return mounted\n}\n","import React from 'react'\nimport cs from 'classnames'\nimport format from 'date-fns/format'\n\nimport formatNumber from '../../../format-number'\nimport useMounted from '../../../use-mounted'\n\nexport default function TweetInfo({ tweet, className = undefined }) {\n  const mounted = useMounted()\n  const likeUrl = `https://twitter.com/intent/like?tweet_id=${tweet.id}`\n  const tweetUrl = `https://twitter.com/${tweet.username}/status/${tweet.id}`\n  const createdAt =\n    typeof window !== 'undefined' && mounted ? new Date(tweet.createdAt) : null\n\n  return (\n    <div className={cs('static-tweet-info', className)}>\n      <a\n        className='static-tweet-like'\n        href={likeUrl}\n        title='Like'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        <div className='static-tweet-heart'>\n          <div\n            className='static-tweet-icon static-tweet-icon-heart'\n            role='img'\n          />\n        </div>\n\n        {(tweet.heartCount || tweet.likes > 0) && (\n          <span className='static-tweet-likes'>\n            {tweet.heartCount || formatNumber(tweet.likes)}\n          </span>\n        )}\n      </a>\n\n      {createdAt && (\n        <a\n          className='static-tweet-time'\n          href={tweetUrl}\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          <time\n            title={`Time Posted: ${createdAt.toUTCString()}`}\n            dateTime={createdAt.toISOString()}\n          >\n            {format(createdAt, 'h:mm a - MMM d, y')}\n          </time>\n        </a>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport TweetHeader from './tweet-header'\nimport TweetInfo from './tweet-info'\n\nconst TweetContext = React.createContext<any>({})\n\nexport const useTweet = () => React.useContext(TweetContext)\n\nexport default function Tweet({ children, data }) {\n  return (\n    <div className='static-tweet-body'>\n      <blockquote className='static-tweet-body-blockquote'>\n        <TweetHeader tweet={data} />\n        <TweetContext.Provider value={data}>{children}</TweetContext.Provider>\n        <TweetInfo tweet={data} />\n      </blockquote>\n    </div>\n  )\n}\n","import React from 'react'\n// import dynamic from 'next/dynamic' // TODO\nimport Image from 'next/image'\nimport { useTweet } from './tweet/tweet'\n\nexport const Img = ({ width, height, src, ...p }) => {\n  const tweet = useTweet()\n  const tweetUrl = `https://twitter.com/${tweet.username}/status/${tweet.id}`\n\n  return (\n    <details className='static-tweet-details'>\n      <summary\n        className='static-tweet-summary'\n        style={{\n          paddingBottom: `${(height / width) * 100 || 0}%`\n        }}\n      >\n        <a\n          href={tweetUrl}\n          className='avatar'\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          <Image\n            {...p}\n            src={`${src}&name=small`}\n            layout='fill'\n            objectFit='cover'\n            quality={80}\n          />\n        </a>\n      </summary>\n    </details>\n  )\n}\n","import React, { Fragment } from 'react'\nimport cs from 'classnames'\n\nimport formatDistanceStrict from 'date-fns/formatDistanceStrict'\n\nexport const TwitterLink = (p) => (\n  <a\n    href={p.href}\n    target='_blank'\n    rel='noopener noreferrer'\n    title={p.title || p.href}\n    className='static-tweet-twitter-link'\n  >\n    <s>{p.type}</s>\n\n    {p.children}\n  </a>\n)\n\nexport const Mention = (p) => (\n  <TwitterLink href={p.href} type='@'>\n    {p.children[0].replace(/^@/, '')}\n  </TwitterLink>\n)\n\nexport const Hashtag = (p) => (\n  <TwitterLink href={p.href} type='#'>\n    {p.children[0].replace(/^\\#/, '')}\n  </TwitterLink>\n)\n\nexport const Cashtag = (p) => (\n  <TwitterLink href={p.href} type='$'>\n    {p.children[0].replace(/^\\$/, '')}\n  </TwitterLink>\n)\n\nexport const Emoji = ({ className, ...p }) => (\n  <img className={cs('static-tweet-emoji', className)} {...p} />\n)\n\n// Note: Poll data is most likely cached, so ongoing polls will not be updated\n// until a revalidation happens\nexport const Poll = ({ data }) => {\n  const votesCount = data.options.reduce(\n    (count, option) => count + option.votes,\n    0\n  )\n  const endsAt = new Date(data.endsAt)\n  const now = new Date()\n\n  return (\n    <div className='static-tweet-poll'>\n      <div className='static-tweet-options'>\n        {data.options.map((option) => {\n          const per = Math.round((option.votes / votesCount) * 100) || 0\n          const width = per || 1 + '%'\n          const widthLabel = per + '%'\n\n          return (\n            <Fragment key={option.position}>\n              <span className='static-tweet-label'>{option.label}</span>\n              <span className='static-tweet-chart' style={{ width }}></span>\n              <span>{widthLabel}</span>\n            </Fragment>\n          )\n        })}\n      </div>\n      <hr />\n      <div className='static-tweet-footer'>\n        <span className='static-tweet-votes-count'>{votesCount} votes</span>\n        <span>\n          {now > endsAt\n            ? 'Final results'\n            : `${formatDistanceStrict(endsAt, now)} left`}\n        </span>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport Node from '../../html/node'\nimport components from './index'\n\nexport default function EmbeddedTweet({ ast }) {\n  return <Node components={components} node={ast} />\n}\n","import { Div } from './containers'\nimport { H1, H2, H3, H4, H5, H6 } from './headings'\nimport { P, Blockquote, Hr } from './text'\nimport { Code, Pre } from './code'\nimport { A } from './anchor'\nimport { Ul, Ol, Li } from './lists'\nimport { Table, Th, Td } from './table'\nimport { Img } from './media'\nimport { Mention, Hashtag, Cashtag, Emoji, Poll } from './twitter'\nimport Tweet from './tweet/tweet'\nimport EmbeddedTweet from './embedded-tweet'\n\nexport default {\n  div: Div,\n\n  h1: H1,\n  h2: H2,\n  h3: H3,\n  h4: H4,\n  h5: H5,\n  h6: H6,\n\n  p: P,\n  blockquote: Blockquote,\n  hr: Hr,\n\n  code: Code,\n  pre: Pre,\n\n  a: A,\n\n  ul: Ul,\n  ol: Ol,\n  li: Li,\n\n  table: Table,\n  th: Th,\n  td: Td,\n\n  img: Img,\n\n  Mention,\n  Hashtag,\n  Cashtag,\n  Emoji,\n  Poll,\n\n  Tweet,\n  EmbeddedTweet\n}\n","import React, { forwardRef } from 'react'\nimport cs from 'classnames'\nimport useSWR from 'swr'\n\nimport { useTwitterContext } from './twitter'\nimport Node from './html/node'\nimport components from './twitter-layout/components'\n\ntype TweetProps = {\n  id: string\n  ast?: any\n  caption?: string\n  className?: string\n  // TODO: understand what br is used for\n  // br?: string\n}\n\nconst Tweet = forwardRef<HTMLElement, TweetProps>(\n  ({ id, ast, caption, className }: TweetProps, ref) => {\n    const twitter = useTwitterContext()\n    const { data: tweetAst } = useSWR(\n      id,\n      (id) => ast || twitter.tweetAstMap[id] || twitter.swrOptions.fetcher(id),\n      twitter.swrOptions\n    )\n\n    return (\n      <article ref={ref} className={cs('static-tweet', className)}>\n        {tweetAst && (\n          <>\n            <Node components={components} node={tweetAst[0]} />\n\n            {caption != null ? (\n              <p className='static-tweet-caption'>{caption}</p>\n            ) : null}\n          </>\n        )}\n      </article>\n    )\n  }\n)\n\nexport { Tweet }\n"]},"metadata":{},"sourceType":"module"}